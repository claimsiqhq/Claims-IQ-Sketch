# ===========================================
# Claims-IQ Environment Variables
# ===========================================
# Copy this file to .env and fill in the values

# ===========================================
# SUPABASE CONFIGURATION (Required)
# ===========================================
# Get these from your Supabase project dashboard:
# https://supabase.com/dashboard/project/[your-project]/settings/api
#
# IMPORTANT: Supabase has migrated to new API key formats (June 2025):
# - Publishable keys: sb_publishable_xxx (replaces anon key)
# - Secret keys: sb_secret_xxx (replaces service_role key)
# See: https://supabase.com/docs/guides/api/api-keys

# Supabase Project URL (Required)
SUPABASE_URL=https://your-project-ref.supabase.co

# ===========================================
# NEW API KEYS (Recommended - June 2025+)
# ===========================================
# These are the new Supabase API key formats.
# Use these for new projects or when migrating from legacy keys.

# Publishable API Key (sb_publishable_...) - Safe for client-side use
# Replaces the legacy anon key
SUPABASE_PUBLISHABLE_API_KEY=sb_publishable_your-key-here

# Secret Key (sb_secret_...) - Server-side only, bypasses RLS
# WARNING: Never expose this key to the client!
# Replaces the legacy service_role key
SUPABASE_SECRET_KEY=sb_secret_your-key-here

# ===========================================
# DATABASE CONFIGURATION (Required)
# ===========================================
# Use your Supabase PostgreSQL connection string
# Found in: Supabase Dashboard > Project Settings > Database > Connection String
# Recommended: Use the "Transaction" pooler connection string

SUPABASE_DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================

# Server port (default: 5000)
PORT=5000

# Node environment (development or production)
NODE_ENV=development

# Session secret for Express sessions (required in production)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-session-secret-min-32-chars

# Application URL (used for email redirects, etc.)
APP_URL=http://localhost:5000

# ===========================================
# OPTIONAL CONFIGURATION
# ===========================================

# Admin user credentials (for initial setup)
ADMIN_EMAIL=admin@claimsiq.com
ADMIN_PASSWORD=change-this-password

# OpenAI API Key (for AI features)
OPENAI_API_KEY=sk-your-openai-key

# ===========================================
# VITE CLIENT CONFIGURATION
# ===========================================
# These are exposed to the client-side via Vite
# Prefix with VITE_ to make them available in the browser
#
# IMPORTANT: Only use publishable keys here - NEVER expose secret keys!

VITE_SUPABASE_URL=https://your-project-ref.supabase.co
VITE_SUPABASE_PUBLISHABLE_API_KEY=sb_publishable_your-key-here

# ===========================================
# LEGACY KEYS (Deprecated)
# ===========================================
# These are provided for backwards compatibility only.
# Legacy keys will be deprecated in late 2026.
# Migrate to the new key format above.

# SUPABASE_ANON_KEY=eyJ... (deprecated - use SUPABASE_PUBLISHABLE_API_KEY)
# SUPABASE_SERVICE_ROLE_KEY=eyJ... (deprecated - use SUPABASE_SECRET_KEY)
# DATABASE_URL=postgresql://... (deprecated - use SUPABASE_DATABASE_URL)
# VITE_SUPABASE_ANON_KEY=eyJ... (deprecated - use VITE_SUPABASE_PUBLISHABLE_API_KEY)
