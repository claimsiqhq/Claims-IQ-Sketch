create table public.claims (
  id uuid not null default gen_random_uuid (),
  organization_id uuid not null,
  assigned_user_id uuid null,
  claim_id character varying(50) not null,
  carrier_id uuid null,
  region_id character varying(50) null,
  insured_name character varying(255) null,
  insured_email character varying(255) null,
  insured_phone character varying(50) null,
  property_address text null,
  property_city character varying(100) null,
  property_state character varying(10) null,
  property_zip character varying(20) null,
  property_latitude numeric(10, 7) null,
  property_longitude numeric(10, 7) null,
  geocode_status character varying(30) null,
  geocoded_at timestamp without time zone null,
  date_of_loss date null,
  loss_type character varying(100) null,
  loss_description text null,
  primary_peril character varying(50) null,
  secondary_perils jsonb null default '[]'::jsonb,
  peril_confidence numeric(3, 2) null,
  peril_metadata jsonb null default '{}'::jsonb,
  policy_number character varying(50) null,
  claim_type character varying(50) null,
  year_roof_install character varying(20) null,
  wind_hail_deductible character varying(50) null,
  dwelling_limit character varying(50) null,
  endorsements_listed jsonb null default '[]'::jsonb,
  coverage_a numeric(12, 2) null,
  coverage_b numeric(12, 2) null,
  coverage_c numeric(12, 2) null,
  coverage_d numeric(12, 2) null,
  deductible numeric(12, 2) null,
  status character varying(30) not null default 'draft'::character varying,
  assigned_adjuster_id uuid null,
  total_rcv numeric(12, 2) null default '0'::numeric,
  total_acv numeric(12, 2) null default '0'::numeric,
  total_paid numeric(12, 2) null default '0'::numeric,
  pricing_snapshot jsonb null default '{}'::jsonb,
  metadata jsonb null default '{}'::jsonb,
  created_at timestamp without time zone null default now(),
  updated_at timestamp without time zone null default now(),
  closed_at timestamp without time zone null,
  loss_context jsonb not null default '{}'::jsonb,
  claim_number character varying(50) null,
  constraint claims_pkey primary key (id)
) TABLESPACE pg_default;

create index IF not exists claims_claim_number_idx on public.claims using btree (claim_id) TABLESPACE pg_default;

create index IF not exists claims_org_idx on public.claims using btree (organization_id) TABLESPACE pg_default;

create index IF not exists claims_status_idx on public.claims using btree (status) TABLESPACE pg_default;